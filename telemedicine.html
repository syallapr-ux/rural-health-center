<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Telemedicine | Rural Health Connect</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .hidden {
        display: none;
        opacity: 0;
        transition: opacity 0.4s ease-in-out;
    }
    .visible {
        display: block;
        opacity: 1;
    }
    .video-box {
        height: 260px;
        background: #1f1f1f;
        color: white;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .timer {
        font-weight: bold;
        color: #198754;
    }
</style>
</head>

<body class="bg-light">

<div class="container my-4">

<h3 class="mb-4">ðŸ©º Telemedicine Consultation</h3>

<!-- ================= PATIENT VERIFICATION ================= -->
<div class="card mb-4">
<div class="card-header fw-bold">Patient Verification</div>
<div class="card-body">

<div class="mb-3">
<label class="form-label">ABHA ID</label>
<input id="abhaId" class="form-control" aria-label="ABHA ID" placeholder="example@abdm">
<small id="abhaError" class="text-danger"></small>
</div>

<div class="mb-3">
<label class="form-label">Mobile Number</label>
<input id="mobileNumber" class="form-control" aria-label="Mobile Number" placeholder="10-digit mobile">
<small id="mobileError" class="text-danger"></small>
</div>

<button id="verifyBtn" class="btn btn-primary" disabled onclick="startSession()">
Verify & Proceed
</button>

<div id="verifySuccess" class="text-success mt-2"></div>

</div>
</div>

<!-- ================= SLOT SELECTION ================= -->
<div id="slotPanel" class="card mb-4 hidden">
<div class="card-header fw-bold">Select Consultation Slot</div>
<div class="card-body">

<select id="slotSelect" class="form-select mb-2" aria-label="Consultation Slot"></select>
<small id="slotError" class="text-danger"></small>

<button class="btn btn-success mt-2" onclick="enterConsultation()">
Enter Consultation Room
</button>

</div>
</div>

<!-- ================= CONSULTATION PANEL ================= -->
<div id="consultationPanel" class="card hidden">
<div class="card-header d-flex justify-content-between">
<div>
<strong>Consultation in Progress</strong>
<div id="activeSlot" class="text-muted small"></div>
</div>
<div>
Session Timer: <span class="timer" id="consultTimer">00:00</span>
</div>
</div>

<div class="card-body" role="region" aria-live="polite">

<div class="video-box mb-3">
ðŸŽ¥ Video Stream (Simulated)
</div>

<label class="form-label">Consultation Notes</label>
<textarea id="consultNotes" class="form-control mb-2" rows="4"
placeholder="Diagnosis, prescription, advice..."></textarea>

<div id="notesPreview" class="small text-muted mb-2"></div>

<button class="btn btn-primary" onclick="saveConsultation()">Save Record</button>
<button class="btn btn-danger ms-2" onclick="endConsultation()">End Consultation</button>

<div id="saveMsg" class="mt-3"></div>

</div>
</div>

</div>

<script src="telemedicine.js"></script>
</body>
</html>
